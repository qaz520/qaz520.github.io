<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="https://www.w3.org/2005/Atom">
  <title>Hack room</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://qaz520.github.io/"/>
  <updated>2019-11-15T14:34:56.052Z</updated>
  <id>https://qaz520.github.io/</id>
  
  <author>
    <name>骇客栈</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>kuaile</title>
    <link href="https://qaz520.github.io/2019/11/15/kuaile/"/>
    <id>https://qaz520.github.io/2019/11/15/kuaile/</id>
    <published>2019-11-15T14:34:55.908Z</published>
    <updated>2019-11-15T14:34:56.052Z</updated>
    
    <content type="html"><![CDATA[<ul><li><a href="https://www.easyzw.com/html/wunianji/20130606/146168.html" target="_blank" rel="noopener">ѧϰ���Ҵ����Ŀ���</a></li></ul><p>ѧϰ���Ҵ����Ŀ���ѧϰ��һյָ·�ƣ��������������������۷壻ѧϰ��һ��С�����������������Ĵ��г˷����ˣ�ѧϰ���ҵĵ�ʦ����������һ�����ɳ�������ѧϰ�����Ҵ�����֪ʶ����֣���ѧϰ�����ҰѴ��Ե���Դ������������ѧϰ�������ջ�һ�δγɹ���ϲ�ã�����…</p><p>-</p><ul><li><a href="https://www.easyzw.com/html/yilunwen/20100204/50467.html" target="_blank" rel="noopener">ѧϰ</a></li></ul><p>����˵���ú�ѧϰ���������ϣ���ȷ��������Ӧ����ô������Ϊһ����Сѧ���ĸ���������ѧϰ�����Ǵ�Ŷ���Ϊѧϰ�����棬����Ķ�������ӣ����ǵȵ�֪��ѧϰ�ܸ�ʲôʱ�����Ҳ�Ͷ����Ȼ�����ˣ���Ϊѧϰ��ʹ����ѧϰ�������֪ʶ����֪ʶ����ʵ�Լ�����ʱ���������…</p><p>-</p><ul><li><a href="https://www.easyzw.com/html/sinianji/20090619/27512.html" target="_blank" rel="noopener">ѧϰ֣�һ���ƽ������</a></li></ul><p>ѧϰ֣�һ���ƽ��������У��Ӧ��ί�������ĺ��٣�����ȫ��ѧ����չѧӢ�ۣ����ж�ѧϰ֣�һ��Ƚ��¼����Ҫ��ȫ��ѧ���ú�ѧϰ��ѧϰ�������������������ĸ�������ѧϰ����һ�У���һ�еľ�ҵ����ѧϰ�������ѵķ��׾���Ϊ����ƽ��������…</p><p>-</p><ul><li><a href="https://www.easyzw.com/html/yilunwen/20130216/144232.html" target="_blank" rel="noopener">��ѧϰ</a></li></ul><p>��ѧϰ���ڵ�ѧ����ÿ�춼Ҫѧϰ��֪ʶ��ѧ����Ҫ����ҵ��������ҵ��Ҫ���Ծ���Ȼ����Ҫѧϰ��֪ʶ������ͬѧ�����ѧϰ����������ޡ���ʦ�ҳ�����̵����ǣ�Ҫѧϰ��ҪŬ��ѧϰ��Ҫ����ѧϰ��Ҫ�̿�ѧϰ��ֻ�в���ѧϰ�Ż�ʹ�˽�����ֻ�в���ѧϰ�����ӲŻ�Խ��Խ…</p><p>-</p><ul><li><a href="https://www.easyzw.com/html/sinianji/20170520/226083.html" target="_blank" rel="noopener">ѧϰ�׷�����500�� ѧϰ�׷�ð���</a></li></ul><p>���дѧϰ�׷���������һ�׸�����������&quot;ѧϰ�׷�ð��������ڸ������ڵ�����&quot;��������ʦ������һ��������ҵ��ѧϰ�׷�ð��������ռǡ��������ѧϰ�׷����Ķ����ǻ���������…</p><p>-</p><ul><li><a href="https://www.easyzw.com/html/sinianji/20150505/161364.html" target="_blank" rel="noopener">����ҵ��ɳ�������</a></li></ul><p>����ҵ��ɳ�������ÿ���˶���֪�������ɳ��ǿ��ֵģ������������һ�����������¸����ҽ�����ҵ��ɳ�����������������Ȼ�Ѿ�58���ˣ����ǻ��Ǻ���Ĭ��������˵��Сʱ��������ѧϰ���������Ÿ�������磬�����Ű취͵�����õ��ǳ���Щ������˵�Ѿ�…</p><p>-</p><ul><li><a href="https://www.easyzw.com/html/xushi/20110521/124709.html" target="_blank" rel="noopener">�����һ����ʵ�����õ���</a></li></ul><p>�����һ����ʵ�����õ��˳�ʵ�������л������������ͳ����ʵ������Ҫ��ʵ���ˣ���ʵ���£�ʵ�����ǣ����ž���Ҫ˵������������ŵ�ԡ�һ������Ҫ�����������ͱ�����г�ʵ���ŵ�Ʒ�£�����������࣬��ƭ���˵Ĳ�����Ϊ����Ϊ��ʵ�ǻ�����ε�ǰ�ᣬ…</p><p>-</p><ul><li><a href="https://www.easyzw.com/html/liunianji/20140823/155830.html" target="_blank" rel="noopener">��ΰ���ʱ��</a></li></ul><p>��ΰ���ʱ���������磬�����ѵ�������С��ϰ�������Ͽ��������ʱ������ǣ�����ʱ�䣬��ʱ�䡹�����۵绰�У������˵ĺ��ѣ����ǹ���һ�䡸�Ҹ�ʱ�䡹�����ǣ���������ڡ���ʱ�䡹�𣿿������ߣ���Щ�����ϲ��ϡ���������������ǣ����������Ŭ��…</p><p>-</p><ul><li><a href="https://www.easyzw.com/html/gaoyi/20160107/180653.html" target="_blank" rel="noopener">�����һ������ĸ�����</a></li></ul><p>ʱ�����ۣ����´Ҵң�����ĳ���������ɳ��һ�����ڲ�������ָ�⻬�䡣�������飬��ʰ���ң��ҿ�ʼ̤���µ����̣������˸��еĵ��á���ʱ�˿̣����ĳ����ȣ�������������ҪŬ����Ϊһ������ĸ����������ж�����������ĻԻ͡�Ȼ������γ�Ϊһ���������…</p><p>-</p><ul><li><a href="https://www.easyzw.com/html/yilunwen/20140728/155246.html" target="_blank" rel="noopener">���ʵ������</a></li></ul><p>���ʵ������������һ�����ӣ������ĵ��������������С��ȴ������������������û�����룬���������ڻ����ĸ�ڣ��������壬û�л������������룬Ҳ������׷�����˷ܶ���Ŀ�꣬�������룬�����˶������������ǰ����Ҳ����ʵ������ĵ�·�У�������������…</p><p>-</p><ul><li><a href="https://www.easyzw.com/html/yanjianggao/20161015/206162.html" target="_blank" rel="noopener">����ѧϰ���ݽ��壨��ƪ��</a></li></ul><p>����ѧϰ���ݽ����װ���ͬѧ�ǣ����Ǻã���ǰ��ļ��ο����У��Ҷ�����˲����ĳɼ�����һ������Ҫ�鹦���ҵ�Ŭ������Ȼѧϰ��ʽҲ�Ƿǳ���Ҫ�ġ��������Ҹ���λ����һ���ҵ�ѧϰ���顣��һ�Ҿ���Ҫ��ѧϰ���ȵö�ѧϰ����Ȥ���׻�˵����Ȥ������õ�…</p><p>-</p><ul><li><a href="https://www.easyzw.com/html/liunianji/20120118/135826.html" target="_blank" rel="noopener">ѧϰҲ��һ�ֿ���</a></li></ul><p>ѧϰҲ��һ�ֿ��ִ�С������һֱ����ѧϰ��һ���ǳ�ʹ����¡����˿������飬�����Ǳ�����ߴ��ţ��ල��ѧϰ������һͷ������ǰ�ߵ�ţ�����˱޴��ţ�ߺ���ţ��ſ���ǰ�ߡ���ˣ��Ҵ���������ѧϰ��һ������¡����ǣ���ѧ�ڣ����𽥸ı��˶�ѧϰ�Ŀ�…</p><p>-</p><ul><li><a href="https://www.easyzw.com/html/liunianji/20160102/180000.html" target="_blank" rel="noopener">��ѧϰ���ҿ��֣�������</a></li></ul><p>ѧϰ��һ�����ܣ����ǿ����������еõ���᣻ѧϰ��һ����ᣬ���ǿ����������еõ���Ȥ��ѧϰ��һ����Ȥ,���ǿ����������еõ�֪ʶ����ѧϰ���ҿ��֣�������!�Ұ�ѧϰ����Ϊ��֪���������������ҷ���ǰ������ʹ��������֪���������������������Ҳ�����ҳ�Ϊһ��…</p><p>-</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.easyzw.com/html/wunianji/20130606/146168.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ѧϰ���Ҵ����Ŀ���&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>你好</title>
    <link href="https://qaz520.github.io/2019/11/15/%E4%BD%A0%E5%A5%BD/"/>
    <id>https://qaz520.github.io/2019/11/15/%E4%BD%A0%E5%A5%BD/</id>
    <published>2019-11-15T14:18:03.655Z</published>
    <updated>2019-11-15T14:18:03.855Z</updated>
    
    <content type="html"><![CDATA[<p>���ļ��ϴ��ƹ��ĸ������ƣ�����<br>������ƪ���ܽ� ��=���أ�=��<br>Less-11<br>��ز��õķ����ַ��ǰ��������ˣ�ֻ�����ϴ�jpg��png��gif���ͣ����ҽ��ϴ����ļ���������Ϊ�˰������еĺ�׺<br>�鿴Դ�룺</p><p>$is_upload = false;<br>    $msg = null;<br>    if(isset($_POST[‘submit’])){<br>      $ext_arr = array(‘jpg’,’png’,’gif’);<br>      $file_ext = substr($_FILES[‘upload_file’][‘name’],strrpos($_FILES[‘upload_file’][‘name’],”.”)+1);<br>      if(in_array($file_ext,$ext_arr)){<br>      $temp_file = $_FILES[‘upload_file’][‘tmp_name’];<br>      $img_path = $_GET[‘save_path’].”/“.rand(10, 99).date(“YmdHis”).”.”.$file_ext;</p><pre><code>   if(move_uploaded_file($temp_file,$img_path)){            $is_upload = true;        } else {            $msg = &apos;�ϴ�������&apos;;        }    } else{        $msg = &quot;ֻ�����ϴ�.jpg|.png|.gif�����ļ���&quot;;    }}</code></pre><p>�����ϴ��ļ��ķ�ʽ</p><p>$img_path = $_GET[‘save_path’].”/“.rand(10, 99).date(“YmdHis”).”.”.$file_ext;<br>����������������û��ʲô���⣬������һ���ϴ�Ŀ¼�ǿɿصģ����Կ������ϴ�һ����׺��Ϊ.jpg��Ȼ���޸��ϴ�Ŀ¼Ϊ.php��׺��֮����.php��ʹ�ýضϺ����ƴ�����ݣ�ע��������Ҫ�ص�magic_quotes_gpc���php��չ������00�ᱻת��<br>$_GET[‘save_path’]����ʹ��00�ض�.”/“.rand(10, 99).date(“YmdHis”).”.”.$file_ext;<br>ע�������00�ַ���Ϊ��url��GET�����У��������ý���url����</p><p>�ضϵ�������<br>1��php�汾����С��5.3.4<br>2����php�������ļ�php-ini����magic_quotes_gpc����ΪOff</p><p>�ر�magic_quotes_gpc����:<br>��php.ini�ļ����ҵ�<br>magic_quotes_gpc = On<br>�����Ϊ<br>magic_quotes_gpc = Off</p><p>���úú��ϴ�webshell.jpg��ץ��������webshell.php%00</p><p>�ϴ��ɹ�</p><p>Less-12<br>��Less-11��ͬ������ε�save_path��ͨ��post�������ģ����ǻ�����00�ضϣ���������Ҫ��ʮ�������н����޸ģ���Ϊpost������get��%00�����Զ����롣<br>���裺�ϴ�webshell.jpg Ȼ�� send to repeater</p><p>�����ļ� wenshell.php(�ո�)</p><p>�ո��ʮ������Ϊ20Ȼ���ҵ�20 ��Ϊ00</p><p>Ȼ����send �����ͺ���</p><p>�����ɹ���</p><p>Less-13<br>PS��</p><p>�����Ҫ���������汾�ĵ�PHP5.3�����ϲ��У���Ȼ�����ļ�����©���ᱨ��</p><p>�鿴Դ�룺</p><p>function getReailFileType($filename){<br>    $file = fopen($filename, “rb”);<br>    $bin = fread($file, 2); //ֻ��2�ֽ�<br>    fclose($file);<br>    $strInfo = @unpack(“C2chars”, $bin);<br>    $typeCode = intval($strInfo[‘chars1’].$strInfo[‘chars2’]);<br>    $fileType = ‘’;<br>    switch($typeCode){<br>        case 255216:<br>            $fileType = ‘jpg’;<br>            break;<br>        case 13780:<br>            $fileType = ‘png’;<br>            break;<br>        case 7173:<br>            $fileType = ‘gif’;<br>            break;<br>        default:<br>            $fileType = ‘unknown’;<br>        }<br>        return $fileType;<br>}<br>$is_upload = false;<br>$msg = null;<br>if(isset($_POST[‘submit’])){<br>    $temp_file = $_FILES[‘upload_file’][‘tmp_name’];<br>    $file_type = getReailFileType($temp_file);</p><pre><code>if($file_type == &apos;unknown&apos;){    $msg = &quot;�ļ�δ֪���ϴ�ʧ�ܣ�&quot;;}else{    $img_path = UPLOAD_PATH.&quot;/&quot;.rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$file_type;    if(move_uploaded_file($temp_file,$img_path)){        $is_upload = true;    } else {        $msg = &quot;�ϴ�������&quot;;    }}</code></pre><p>}<br>������Ҫ��ȡ�ϴ��ļ���ͷ�����ֽ��ж��ļ����ͣ����ֱ���ϴ�ͼƬ�����ɣ�<br>ͼƬ����������copy 1.jpg /b + shell.php /a webshell.jpg��ͼƬһ�仰ľ��Ϊ��<?php phpinfo(); ?> ��<br>���ͣ�����/bָ���Զ����Ƹ�ʽ���ơ��ϲ��ļ�(ͼƬ),����/aָ����ASCII��ʽ���ơ��ϲ��ļ���php�ļ���</p><p>�����ɹ�</p><p>Ȼ��ֱ���ϴ�</p><p>�ϴ��ɹ����õ��ļ�����������ϴ�����һ�仰ľ���������Ӳ˵��ˣ������ϴ�����ͼƬ�룬���������ļ�����©�����в��ԣ�<br>���½�һ�������ļ�©����ҳ��upload.php�������ļ����ڸ�Ŀ¼�£�</p><?php$file = $_GET[ 'page' ];include($file);?><p>����ʹ�ã������ɹ�<br><a href="http://127.0.0.1/upload-labs-master/upload/include.php?page=�ļ���" target="_blank" rel="noopener">http://127.0.0.1/upload-labs-master/upload/include.php?page=�ļ���</a></p><p>������ʱ����ļ���СҲ�����ƣ������ƹ��ļ���������ʵķ�ʽ������16���Ʊ༭���Լ�����һ��αͼƬ������������winhex����shell.jpgαͼƬ��</p><p>Less-14<br>�鿴�ؼ����룺</p><p>$types = ‘.jpeg|.png|.gif’;<br>     if(file_exists($filename)){<br>        $info = getimagesize($filename);<br>        $ext = image_type_to_extension($info[2]);1234<br>������getimagesize��ȡ�ļ����ͣ�����ֱ�ӾͿ�������ͼƬ���Ϳɽ����ƹ����ƹ�����ͬLess13 ������Ͳ���ʾ��<br>֪ʶ���䣺</p><p>array getimagesize ( string $filename [, array &amp;$imageinfo ] )<br>getimagesize() �������ⶨ�κ� GIF��JPG��PNG��SWF��SWC��PSD��TIFF��BMP��IFF��JP2��JPX��JB2��JPC��XBM �� WBMP ͼ���ļ��Ĵ�С������ͼ��ĳߴ��Լ��ļ����ͺ�һ������������ͨ HTML �ļ��� IMG ����е� height/width �ı��ַ�����</p><p>������ܷ��� filename ָ����ͼ������䲻����Ч��ͼ��getimagesize() ������ FALSE ������һ�� E_WARNING ���Ĵ���<br>Less-15<br>�ؼ�Դ�룺</p><p>function isImage($filename){<br>    //��Ҫ����php_exifģ��<br>    $image_type = exif_imagetype($filename);<br>    switch ($image_type) {<br>        case IMAGETYPE_GIF:<br>            return “gif”;<br>            break;<br>        case IMAGETYPE_JPEG:<br>            return “jpg”;<br>            break;<br>        case IMAGETYPE_PNG:<br>            return “png”;<br>            break;<br>        default:<br>            return false;<br>            break;<br>    }<br>}<br>����php_exifģ���ж��ļ����ͣ�����ֱ������ͼƬ���Ϳ����ƹ������鿴�����php_exifģ���Ƿ�򿪣�û�еĻ��͹���</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;���ļ��ϴ��ƹ��ĸ������ƣ�����&lt;br&gt;������ƪ���ܽ� ��=���أ�=��&lt;br&gt;Less-11&lt;br&gt;��ز��õķ����ַ��ǰ��������ˣ�ֻ�����ϴ�jpg��png��gif���ͣ����ҽ��ϴ����ļ������
      
    
    </summary>
    
    
    
  </entry>
  
</feed>
